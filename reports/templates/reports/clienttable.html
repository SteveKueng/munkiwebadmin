{% extends 'base.html' %}

{% block extra_style %}
{% load static %}
<link href="{% get_static_prefix %}reports/css/clienttable.css" rel="stylesheet">
{% endblock %}

{% block java_script %}
{% load static %}
<script type='text/javascript' src='{% get_static_prefix %}reports/js/clienttable.js'></script>
{% endblock java_script %}

{% block content %}
{% if reports|length %}
<div class="btn-group" role="group">
  <button class="grid grid_list btn btn-default active"><span class="glyphicon glyphicon-th-large" aria-hidden="true"></span></button>
  <button class="list grid_list btn btn-default"><span class="glyphicon glyphicon-th-list" aria-hidden="true"></span></button>
</div>

<div class="row-fluid">
		<ul id="deviceList" class="grid">
			{% for report in reports %}
			<li onClick="window.location.hash = '#{{ report.serial_number }}'" class="col-xs-4 col-md-4 col-lg-3 col-xl-1" data-state="all">
			  <img src='https://km.support.apple.com.edgekey.net/kb/securedImage.jsp?configcode={{report.serial_number|slice:"8:"  }}&size=120x120' alt="" width="72" />
  			{% if report.hostname %}
				<h4>{{ report.hostname }}</h4>
				{% endif %}
				<h4 class="detail">{{ report.serial_number }}</h4>
        <h4 class='detail'>{{ report.console_user }}</h4>
        <!-- <h4 class='detail'>{{ report.remote_ip }}</h4> -->
        <h4 class="detail">{{ report.report_time|date:"Y-m-d H:i" }}</h4>
		  </li>
			{% endfor %}
		</ul>
</div>
{% endif %}

<div id="computer_detail"></div>

<div id="loadingModal" class="modal fade" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-hidden="true" style="padding-top:15%; overflow-y:visible;">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-body">
        <div class="progress progress-striped active" style="margin-bottom:0;"><div class="progress-bar" style="width: 100%"></div></div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
